---
component_meta:
  ns: app
  name: server

  external_vars:
    server_cert_arn:
      ns: iam
    subnet_id:
      ns: vpc
      name: vpc_subnet_public_subnet_id
    vpc_id:
      ns: vpc
      name: vpc_vpc_vpc_id
    zone_id:
      ns: domain
      name: route53_subdomain_zone_id

  module_vars:
    alias_name:
      ns: ec2-elb
      name: dns_name
    alias_zone_id:
      ns: ec2-elb
      name: zone_id
    elb_instance_id: # Used by the ELB attachment
      ns: ec2-elb
      name: instance_id
    ec2_instance_id: # Used by the ELB attachment
      ns: ec2-instance
      name: instance_id
    security_group_id: # Used by the ELB
      ns: vpc-security-group-app-server
    vpc_security_group_ids: # Used by the EC2
      ns: vpc-security-group-app-server
      name: security_group_id

  output_vars: {}
